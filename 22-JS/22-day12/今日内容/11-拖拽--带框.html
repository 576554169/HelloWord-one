<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title></title>
<style type="text/css">
	#div1{
		width: 100px;
		height: 100px;
		background: red;
		position: absolute;
	}
	.box{
		border: 1px dashed black;
		position: absolute;
	}
</style>
</head>
<body>
<div id="div1"></div>				
<script type="text/javascript">
	var oDiv=document.getElementById('div1')
	var disX=0;
	var disY=0;
	oDiv.onmousedown=function (ev) {
		var oEvent=ev||event				
		disX=oEvent.clientX-oDiv.offsetLeft;
		disY=oEvent.clientY-oDiv.offsetTop;	
			
		var oBox=document.createElement('div')	 
			oBox.className='box';
			oBox.style.width=oDiv.offsetWidth+'px';
			oBox.style.height=oDiv.offsetHeight+'px';
			
			oBox.style.left=oDiv.offsetLeft-2+'px';
			oBox.style.top=oDiv.offsetTop-2+'px'
			document.body.appendChild(oBox);
		
		document.onmousemove=function (ev) {
			var oEvent=ev||event;
			var l=oEvent.clientX-disX;
			var t=oEvent.clientY-disY
		
			oBox.style.left=l+'px';
			oBox.style.top=t+'px';
		}				
		document.onmouseup=function () {
			document.onmousemove=null;
			document.onmouseup=null;
			
			oDiv.style.left=oBox.offsetLeft+'px';
			oDiv.style.top=oBox.offsetTop+'px';
			document.body.removeChild(oBox)
		}	
	return false  
	}			
</script>
</body>
</html>